{"version":3,"file":"../script.min.js","names":["document","addEventListener","FEED_STORAGE_KEY","loadFeedBtn","getElementById","rssUrlInput","newsContainer","feedForm","newFeedInput","savedFeedsList","collapseButton","loadFeed","feedUrl","encodeURIComponent","nodeURL","fetch","then","response","ok","Error","json","items","length","innerHTML","forEach","item","card","createElement","className","cleanDescription","description","replace","substring","pubDate","Date","toLocaleDateString","year","month","day","image","imageUrl","title","link","appendChild","displayNews","catch","error","message","loadSavedFeeds","feeds","localStorage","getItem","JSON","parse","liID","Math","floor","random","li","checkbox","type","checked","id","querySelectorAll","nextSibling","textContent","reloadEnabledFeeds","label","style","marginLeft","setAttribute","url","value","trim","alert","e","preventDefault","newUrl","includes","push","setItem","stringify","saveFeedUrl","classList","toggle","contains"],"sources":["script.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function () {\r\n    const parserType = 'node'; // We can use 'php' if it needed\r\n    const FEED_STORAGE_KEY = 'savedFeeds';\r\n\r\n\r\n    const loadFeedBtn = document.getElementById('load-feed');\r\n    const rssUrlInput = document.getElementById('rss-url');\r\n    const newsContainer = document.getElementById('news-container');\r\n\r\n\r\n    const feedForm = document.getElementById('rss-form');\r\n    const newFeedInput = document.getElementById('new-rss-url');\r\n    const savedFeedsList = document.getElementById('saved-feeds-list');\r\n    const collapseButton = document.getElementById('rss-list-collapse-btn');\r\n\r\n    loadSavedFeeds(); //  WHEN PAGE LOADED THIS BRING OUR FEED AND CHECKBOX \r\n\r\n\r\n    loadFeedBtn.addEventListener('click', function () {\r\n        const url = rssUrlInput.value.trim();\r\n        if (url) {\r\n            loadFeed(url);\r\n        } else {\r\n            alert('Please enter a valid RSS feed URL');\r\n        }\r\n    });\r\n\r\n    feedForm.addEventListener('submit', function (e) {\r\n        e.preventDefault();\r\n        const newUrl = newFeedInput.value.trim();\r\n        if (newUrl) {\r\n            saveFeedUrl(newUrl);\r\n            newFeedInput.value = '';\r\n            loadSavedFeeds();\r\n        }\r\n    });\r\n\r\n    collapseButton.addEventListener('click', () => {\r\n        savedFeedsList.classList.toggle('collapsed');\r\n\r\n        // Optional: update button label\r\n        collapseButton.textContent = savedFeedsList.classList.contains('collapsed')\r\n            ? 'Expand'\r\n            : 'Collapse';\r\n    });\r\n\r\n\r\n    function saveFeedUrl(url) {\r\n        const feeds = localStorage.getItem(FEED_STORAGE_KEY) ? JSON.parse(localStorage.getItem(FEED_STORAGE_KEY)) : [];\r\n        if (!feeds.includes(url)) {\r\n            feeds.push(url);\r\n            localStorage.setItem(FEED_STORAGE_KEY, JSON.stringify(feeds));\r\n        }\r\n    }\r\n\r\n    function loadFeed(feedUrl) {\r\n        const phpURL = `https://abddomain.epizy.com/rss/rss_parsers/php_parser/index.php?url=${encodeURIComponent(feedUrl)}`;\r\n        const nodeURL = `http://localhost:3001/api/rss?url=${encodeURIComponent(feedUrl)}`;\r\n        const apiURL = parserType === 'php' ? phpURL : nodeURL;\r\n\r\n        fetch(apiURL)\r\n            .then(response => {\r\n                if (!response.ok) throw new Error('Network response was not ok');\r\n                return response.json();\r\n            })\r\n            .then(items => {\r\n                displayNews(items);\r\n            })\r\n            .catch(error => {\r\n                newsContainer.innerHTML += `<div class=\"error\">Error loading feed: ${error.message}</div>`;\r\n            });\r\n    }\r\n\r\n    function displayNews(items) {\r\n        if (!items || items.length === 0) {\r\n            newsContainer.innerHTML += '<div class=\"loading\">No news items found in the feed</div>';\r\n            return;\r\n        }\r\n\r\n        items.forEach(item => {\r\n            const card = document.createElement('article');\r\n            card.className = 'news-card';\r\n\r\n            const cleanDescription = item.description\r\n                ? item.description.replace(/<[^>]*>?/gm, '').substring(0, 150) + '...'\r\n                : 'No description available';\r\n\r\n            const pubDate = item.pubDate\r\n                ? new Date(item.pubDate).toLocaleDateString('en-US', {\r\n                    year: 'numeric',\r\n                    month: 'short',\r\n                    day: 'numeric'\r\n                })\r\n                : 'Unknown date';\r\n\r\n            const image = item.imageUrl\r\n                ? `<img src=\"${item.imageUrl}\" alt=\"${item.title}\" class=\"news-image\" onerror=\"this.src='https://placehold.co/300x180?text=No+Image'\">`\r\n                : `<div class=\"news-image\" style=\"background: #eee; display: flex; align-items: center; justify-content: center; color: #999;\">No Image</div>`;\r\n\r\n            card.innerHTML = `\r\n        ${image}\r\n        <div class=\"news-content\">\r\n          <h3 class=\"news-title\">${item.title || 'No title'}</h3>\r\n          <p class=\"news-description\">${cleanDescription}</p>\r\n          <p class=\"news-date\"><strong>Published:</strong> ${pubDate}</p>\r\n          <a href=\"${item.link || '#'}\" class=\"news-link\" target=\"_blank\" rel=\"noopener noreferrer\">Read more</a>\r\n        </div>\r\n      `;\r\n\r\n            newsContainer.appendChild(card);\r\n        });\r\n    }\r\n\r\n    function loadSavedFeeds() {\r\n        const feeds = localStorage.getItem(FEED_STORAGE_KEY) ? JSON.parse(localStorage.getItem(FEED_STORAGE_KEY)) : [];\r\n        savedFeedsList.innerHTML = '';\r\n        newsContainer.innerHTML = ''; // Önceki haberleri temizle\r\n\r\n        feeds.forEach(feedUrl => {\r\n            const liID = Math.floor(Math.random() * 100);\r\n            const li = document.createElement('li');\r\n\r\n            const checkbox = document.createElement('input');\r\n            checkbox.type = 'checkbox';\r\n            checkbox.checked = true;\r\n            checkbox.id = liID;\r\n\r\n            checkbox.addEventListener('change', () => {\r\n                reloadEnabledFeeds(); // Checkbox durumu değiştiğinde sadece aktif olanları yükle\r\n            });\r\n\r\n            const label = document.createElement('label');\r\n            label.textContent = feedUrl;\r\n            label.style.marginLeft = '8px';\r\n            label.setAttribute(\"for\", liID);\r\n\r\n            li.appendChild(checkbox);\r\n            li.appendChild(label);\r\n            savedFeedsList.appendChild(li);\r\n\r\n            // Sayfa ilk yüklendiğinde otomatik yükle\r\n            loadFeed(feedUrl);\r\n        });\r\n    }\r\n\r\n    function reloadEnabledFeeds() {\r\n        newsContainer.innerHTML = '';\r\n        const checkboxes = savedFeedsList.querySelectorAll('input[type=\"checkbox\"]');\r\n        checkboxes.forEach(checkbox => {\r\n            if (checkbox.checked) {\r\n                const url = checkbox.nextSibling.textContent;\r\n                loadFeed(url);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n});\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]}