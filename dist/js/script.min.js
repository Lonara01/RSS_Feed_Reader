document.addEventListener("DOMContentLoaded",function(){const e="savedFeeds",t=document.getElementById("load-feed"),n=document.getElementById("rss-url"),o=document.getElementById("news-container"),s=document.getElementById("rss-form"),a=document.getElementById("new-rss-url"),c=document.getElementById("saved-feeds-list"),l=document.getElementById("rss-list-collapse-btn");function r(e){encodeURIComponent(e);const t=`http://localhost:3001/api/rss?url=${encodeURIComponent(e)}`;fetch(t).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(e=>{!function(e){if(!e||0===e.length)return void(o.innerHTML+='<div class="loading">No news items found in the feed</div>');e.forEach(e=>{const t=document.createElement("article");t.className="news-card";const n=e.description?e.description.replace(/<[^>]*>?/gm,"").substring(0,150)+"...":"No description available",s=e.pubDate?new Date(e.pubDate).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"Unknown date",a=e.imageUrl?`<img src="${e.imageUrl}" alt="${e.title}" class="news-image" onerror="this.src='https://placehold.co/300x180?text=No+Image'">`:'<div class="news-image" style="background: #eee; display: flex; align-items: center; justify-content: center; color: #999;">No Image</div>';t.innerHTML=`\n        ${a}\n        <div class="news-content">\n          <h3 class="news-title">${e.title||"No title"}</h3>\n          <p class="news-description">${n}</p>\n          <p class="news-date"><strong>Published:</strong> ${s}</p>\n          <a href="${e.link||"#"}" class="news-link" target="_blank" rel="noopener noreferrer">Read more</a>\n        </div>\n      `,o.appendChild(t)})}(e)}).catch(e=>{o.innerHTML+=`<div class="error">Error loading feed: ${e.message}</div>`})}function i(){const t=localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[];c.innerHTML="",o.innerHTML="",t.forEach(e=>{const t=Math.floor(100*Math.random()),n=document.createElement("li"),s=document.createElement("input");s.type="checkbox",s.checked=!0,s.id=t,s.addEventListener("change",()=>{!function(){o.innerHTML="";c.querySelectorAll('input[type="checkbox"]').forEach(e=>{if(e.checked){r(e.nextSibling.textContent)}})}()});const a=document.createElement("label");a.textContent=e,a.style.marginLeft="8px",a.setAttribute("for",t),n.appendChild(s),n.appendChild(a),c.appendChild(n),r(e)})}i(),t.addEventListener("click",function(){const e=n.value.trim();e?r(e):alert("Please enter a valid RSS feed URL")}),s.addEventListener("submit",function(t){t.preventDefault();const n=a.value.trim();n&&(!function(t){const n=localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):[];n.includes(t)||(n.push(t),localStorage.setItem(e,JSON.stringify(n)))}(n),a.value="",i())}),l.addEventListener("click",()=>{c.classList.toggle("collapsed"),l.textContent=c.classList.contains("collapsed")?"Expand":"Collapse"})});
//# sourceMappingURL=map/script.min.js.map
